{% extends "base.html" %}

{% block title %}Browse Books - BookBazaar{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Discover Your Next Great Read</h1>
    <p class="page-subtitle">Explore our curated collection of books</p>
</div>

<div class="books-container">
    {% if books %}
        <div class="books-grid">
            {% for book in books %}
                <div class="book-card">
                    <div class="book-image">
                        {% if book.image_url %}
                            <img src="{{ book.image_url }}" alt="{{ book.title }}">
                        {% else %}
                            <div class="book-placeholder">
                                <span>ðŸ“–</span>
                            </div>
                        {% endif %}
                        {% if book.stock < 1 %}
                            <div class="out-of-stock-badge">Out of Stock</div>
                        {% endif %}
                    </div>
                    <div class="book-details">
                        <h3 class="book-title">{{ book.title }}</h3>
                        <p class="book-author">by {{ book.author }}</p>
                        {% if book.description %}
                            <p class="book-description">{{ book.description[:120] }}{% if book.description|length > 120 %}...{% endif %}</p>
                        {% endif %}
                        <div class="book-footer">
                            <span class="book-price">â‚¹{{ "%.2f"|format(book.price) }}</span>
                            {% if book.stock > 0 %}
                                <form method="POST" action="{{ url_for('bookstore.place_order', book_id=book.id) }}" class="order-form">
                                    <button type="submit" class="btn btn-primary">Order Now</button>
                                </form>
                            {% else %}
                                <button class="btn btn-disabled" disabled>Unavailable</button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>ðŸ“š No books available at the moment. Please check back later!</p>
        </div>
    {% endif %}
</div>
{% endblock %}
